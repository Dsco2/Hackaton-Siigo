(this["webpackJsonpsiigo-front"]=this["webpackJsonpsiigo-front"]||[]).push([[0],{26:function(e,t,a){e.exports={ThemesList:"CreateTenant_ThemesList__-DUEa",Selected:"CreateTenant_Selected__ljCT1"}},40:function(e,t,a){e.exports={TenantCard:"Tenant_TenantCard__nWJdT"}},43:function(e,t,a){e.exports=a(72)},48:function(e,t,a){},49:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),s=(a(48),a(12)),o=a(13),i=(a(49),a(5)),m=a(6),u=a(8),p=a(7),d=a(9),b=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},r.a.createElement(s.b,{className:"navbar-brand",to:"/"},"SIIGO"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(s.b,{className:"nav-link",to:"/"},"Inicio")))))},v=a(26),h=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",themes:["primary","secondary","success","danger","warning","info","dark"],selectedTheme:"primary",errorMessage:""},a.handleNameChange=function(e){a.setState({name:e.target.value})},a.onClickCreateTenant=function(){a.state.name?(a.setState({errorMessage:""}),a.props.onCreateTenant(a.state.name,a.state.selectedTheme)):a.setState({errorMessage:"El nombre de su empresa es obligatorio"})},a.onClickTheme=function(e){a.setState({selectedTheme:e})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.themes.map((function(t){return r.a.createElement("li",{key:t,onClick:function(){return e.onClickTheme(t)},className:"".concat(e.state.selectedTheme===t?v.Selected:""," pb-1 px-2")},r.a.createElement("i",{className:"fa fa-square text-".concat(t)}))}));return r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header"},"\xbfNo encuentra su empresa?"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Crear nueva empresa"),r.a.createElement("div",{className:"card-text"},this.state.errorMessage&&r.a.createElement("div",{className:"alert alert-danger"},this.state.errorMessage),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Ingrese el nombre"),r.a.createElement("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",value:this.state.name,onChange:this.handleNameChange}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"Asegurese primero que su empresa no se encuentra ya creada."))),r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Elija el color de su empresa"),r.a.createElement("ul",{className:"pl-0 ".concat(v.ThemesList)},t)))),r.a.createElement("button",{className:"btn btn-primary",onClick:this.onClickCreateTenant},"Crear")))}}]),t}(n.Component),E=a(17),f=a(16),T=a.n(f),g=function(e){return{type:"ADD_TENANT",newTenant:e}},N=function(e){return{type:"UPDATE_TENANTS",tenantsList:e}},C=a(40),y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleCreateTenant=function(e,t){a.props.createTenant(e,t)},a.handleSelectTenant=function(e){a.props.setActiveTenant(e)},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchTenants()}},{key:"render",value:function(){var e=this,t=this.props.tenants?this.props.tenants.map((function(t){return r.a.createElement("div",{className:"col-12 col-md-4",key:t.idTenant},r.a.createElement("div",{className:"card text-white mb-3 bg-".concat(t.theme," ").concat(C.TenantCard),onClick:function(){return e.handleSelectTenant(t)}},r.a.createElement("div",{className:"card-header"},"Empresa"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.name),r.a.createElement("p",{className:"card-text"},"Da clic ac\xe1 para ingresar al m\xf3dulo de esta compa\xf1ia"))))})):r.a.createElement("div",null,"No hay ninguna empresa creada actualmente");return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement("div",{className:"container mt-3"},this.props.activeTenant.idTenant&&r.a.createElement(o.a,{to:"/active-tenant"}),r.a.createElement("h2",null,"Bienvenido"),r.a.createElement("p",null,"Por favor elija su empresa para continuar"),r.a.createElement("div",{className:"row"},t),r.a.createElement("hr",null),r.a.createElement(h,{onCreateTenant:this.handleCreateTenant})))}}]),t}(n.Component),j=Object(E.b)((function(e){return{tenants:e.tenant.tenantsList,activeTenant:e.tenant.activeTenant}}),(function(e){return{fetchTenants:function(){return e((function(e){T.a.get("/tenant/getTenants").then((function(t){return e(N(t.data))})).catch((function(e){return console.log(e.response)}))}))},createTenant:function(t,a){return e(function(e,t){return function(a){var n={name:e,theme:t};T.a.post("/tenant/createTenant",n).then((function(e){return a(g(e.data))})).catch((function(e){return console.log(e.response)}))}}(t,a))},setActiveTenant:function(t){return e(function(e){return{type:"SET_ACTIVE_TENANT",activeTenant:e}}(t))}}}))(y),O=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-".concat(this.props.activeTenant.theme)},r.a.createElement(s.b,{className:"navbar-brand",to:"/active-tenant"},this.props.activeTenant.name),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(s.b,{className:"nav-link",to:"/"},"Inicio")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/products"},"Productos")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/customers"},"Clientes")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",onClick:this.props.logout,to:"/"},"Cerrar Sesi\xf3n"),!this.props.activeTenant.idTenant&&r.a.createElement(o.a,{to:"/"})))))}}]),t}(n.Component),k=Object(E.b)((function(e){return{activeTenant:e.tenant.activeTenant}}),(function(e){return{logout:function(){return e({type:"SET_ACTIVE_TENANT",activeTenant:{}})}}}))(O),S=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement("h3",null,"hello world from ActiveTenant"))}}]),t}(n.Component),A=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement("h1",null,"helo world from customers"))}}]),t}(n.Component),x=function(e){return r.a.createElement("form",null,r.a.createElement("input",{type:"file",name:"file",className:"btn btn-secondary",onChange:e.onChange}),e.loading?r.a.createElement("button",{className:"btn btn-primary pull-right",type:"button",disabled:!0},r.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"\xa0\xa0Cargando..."):r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:e.onUpload},"Subir archivo CSV"))},_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={file:{}},a.fileHandler=function(e){console.log(e.target.files[0]),a.setState({file:e.target.files[0]})},a.onUploadHandler=function(e){e.preventDefault();var t={idTenant:3,file:a.state.file};T.a.post("products/upload-file",t).then((function(e){return e})).catch((function(e){return e}))},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement("h1",null,"hello world from Products"),r.a.createElement(x,{onChange:this.fileHandler,onUpload:this.onUploadHandler,loading:!1}))}}]),t}(n.Component);var w=function(){return r.a.createElement(s.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:j}),r.a.createElement(o.b,{exact:!0,path:"/customers",component:A}),r.a.createElement(o.b,{exact:!0,path:"/products",component:_}),r.a.createElement(o.b,{exact:!0,path:"/active-tenant",component:S})))},L=a(18),I=a(41),D=a(42),U=a(19),M={tenantsList:[],activeTenant:{}},H=function(e,t){return Object(U.a)({},e,{tenantsList:t.tenantsList})},P=function(e,t){var a=[].concat(Object(D.a)(e.tenantsList),[t.newTenant]);return Object(U.a)({},e,{tenantsList:a})},F=function(e,t){return Object(U.a)({},e,{activeTenant:t.activeTenant})},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TENANTS":return H(e,t);case"ADD_TENANT":return P(e,t);case"SET_ACTIVE_TENANT":return F(e,t);default:return e}},J={customersList:[],activeCustomer:{}},q=function(e,t){return Object(U.a)({},e,{customersList:t.customersList})},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CUSTOMERS":return q(e,t);default:return e}};console.log("current environment: production");var R="http://siigo-api.us-east-1.elasticbeanstalk.com";T.a.defaults.baseURL=R,console.log("current api url: "+R);var G=Object(L.c)({tenant:V,customer:B}),W=Object(L.d)(G,Object(L.a)(I.a));l.a.render(r.a.createElement(E.a,{store:W},r.a.createElement(w,null)),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.e5678e8d.chunk.js.map